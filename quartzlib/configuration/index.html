<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Configuration | QuartzLib | zDevelopers </title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="https://fonts.googleapis.com/css?family=Alfa+Slab+One&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Fira+Sans:400,500,600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/normalize.css">
    <link rel="stylesheet" href="https://dev.zcraft.fr/juice.css">
    
    
</head>

<body>
    
<header class="main box-shadow">
    

<a href="https:&#x2F;&#x2F;dev.zcraft.fr&#x2F;">
    <div class="logo">
        <img src="https://dev.zcraft.fr/logo.png" alt="logo">
        zDevelopers
    </div>
</a>

<nav>
    
        
        <a class="nav-item subtitle-text" href="&#x2F;#bukkit-plugins" title="">
            
                Plugins
            
        </a>
        
        <a class="nav-item subtitle-text" href="&#x2F;#libraries-for-developers" title="">
            
                Libraries
            
        </a>
        
        <a class="nav-item subtitle-text" href="&#x2F;support" title="">
            
                Support
            
        </a>
        
        <a class="nav-item subtitle-text" href="https:&#x2F;&#x2F;github.com&#x2F;zDevelopers" title="GitHub organization">
            
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg>
            
        </a>
        
    
</nav>

</header>


    <main>
        <aside>
            
    
    
        <div class="project aside-section">
            <header>
                <h2><a href="https:&#x2F;&#x2F;dev.zcraft.fr&#x2F;quartzlib&#x2F;">QuartzLib</a></h2>
                
                    <a href="https:&#x2F;&#x2F;github.com&#x2F;zDevelopers&#x2F;QuartzLib">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg>
                    </a>
                
            </header>

            <div class="toc">
                
                    
                        
                    
                    
                        
                        
                    
                    <div class="toc-item">
                        <a href="https:&#x2F;&#x2F;dev.zcraft.fr&#x2F;quartzlib&#x2F;gui&#x2F;" class="subtext">GUI</a>
                    </div>
                
                    
                        
                    
                    
                        
                        
                    
                    <div class="toc-item">
                        <a href="https:&#x2F;&#x2F;dev.zcraft.fr&#x2F;quartzlib&#x2F;configuration&#x2F;" class="subtext active">Configuration </a>
                    </div>
                
                    
                        
                    
                    
                        
                        
                    
                    <div class="toc-item">
                        <a href="https:&#x2F;&#x2F;dev.zcraft.fr&#x2F;quartzlib&#x2F;commands&#x2F;" class="subtext">Commands </a>
                    </div>
                
            </div>

            
                <ul class="external-links">
                    
                        <li><a href="&#x2F;docs&#x2F;quartzlib">Javadoc</a></li>
                    
                        <li><a href="https:&#x2F;&#x2F;www.spigotmc.org&#x2F;resources&#x2F;quartzlib.32310&#x2F;">Spigot</a></li>
                    
                </ul>
            
        </div>
    


            
                
                    
                

                
                    <div class="toc aside-section is-sticky">
                        
                            <div class="toc-item">
                                <a class="subtext" href="https://dev.zcraft.fr/quartzlib/configuration/#the-concept">The concept</a>
                            </div>
                            
                        
                            <div class="toc-item">
                                <a class="subtext" href="https://dev.zcraft.fr/quartzlib/configuration/#writing-the-configuration-class">Writing the configuration class</a>
                            </div>
                            
                                
                                    <div class="toc-item-child">
                                        <a class="subtext" href="https://dev.zcraft.fr/quartzlib/configuration/#configuration-entries"><small>Configuration entries</small></a>
                                    </div>
                                
                                    <div class="toc-item-child">
                                        <a class="subtext" href="https://dev.zcraft.fr/quartzlib/configuration/#referencing-sub-keys"><small>Referencing sub-keys</small></a>
                                    </div>
                                
                                    <div class="toc-item-child">
                                        <a class="subtext" href="https://dev.zcraft.fr/quartzlib/configuration/#lists-in-the-configuration"><small>Lists in the configuration</small></a>
                                    </div>
                                
                                    <div class="toc-item-child">
                                        <a class="subtext" href="https://dev.zcraft.fr/quartzlib/configuration/#maps-in-the-configuration"><small>Maps in the configuration</small></a>
                                    </div>
                                
                            
                        
                            <div class="toc-item">
                                <a class="subtext" href="https://dev.zcraft.fr/quartzlib/configuration/#the-great-and-hidden-powers-of-the-value-handlers">The great and hidden powers of the Value Handlers</a>
                            </div>
                            
                                
                                    <div class="toc-item-child">
                                        <a class="subtext" href="https://dev.zcraft.fr/quartzlib/configuration/#a-configuration-value-handler"><small>A Configuration Value Handler?</small></a>
                                    </div>
                                
                                    <div class="toc-item-child">
                                        <a class="subtext" href="https://dev.zcraft.fr/quartzlib/configuration/#the-built-in-handlers"><small>The built-in handlers</small></a>
                                    </div>
                                
                            
                        
                    </div>
                
            
        </aside>

        <article class="content text">
            
    <div class="heading-text">Configuration</div>
    <p>This component centralizes the configuration of your application, providing simple access and automatic parsing.</p>
<dl class="summary">
    <dt><strong>Documentation</strong></dt>
    <dd><a href="https:&#x2F;&#x2F;dev.zcraft.fr&#x2F;docs&#x2F;quartzlib&#x2F;index.html?fr&#x2F;zcraft&#x2F;quartzlib&#x2F;components&#x2F;configuration&#x2F;package-summary.html">Javadoc</a></dd>

    <dt><strong>Loader class</strong> <small>(for <code>loadComponents</code>)</small></dt>
    <dd><em>Your configuration class (see below)</em></dd>
</dl>
<h1 id="the-concept">The concept<a class="zola-anchor" href="#the-concept" aria-label="Anchor link for: the-concept">ðŸ”—</a></h1>
<p>The old way to manage configuration is pretty annoying. You have to access the main plugin class everytime, the data types are limited, the configuration paths are hard-coded...</p>
<p>Using QuartzLib, you transform this...</p>
<pre data-lang="java" class="language-java "><code class="language-java" data-lang="java">final EntityType entity;
try
{
    entity = EntityType.valueOf(MainPluginClass.getInstance().getConfig().getString(&quot;my_section.entity&quot;, &quot;ZOGLIN&quot;));
}
catch (IllegalArgumentException e)
{
    entity = EntityType.ZOGLIN;
    MainPluginClass.getInstance().getLogger().warning(&quot;Invalid entity set in config; using default value.&quot;);
}
</code></pre>
<p>...into this:</p>
<pre data-lang="java" class="language-java "><code class="language-java" data-lang="java">final EntityType entity = Config.MY_SECTION.ENTITY.get();
</code></pre>
<p>Better, eh?</p>
<h1 id="writing-the-configuration-class">Writing the configuration class<a class="zola-anchor" href="#writing-the-configuration-class" aria-label="Anchor link for: writing-the-configuration-class">ðŸ”—</a></h1>
<p>Behind the scenes, there is a class storing the configuration scheme.
Here is the only small inconvenient of this configuration management: you have to duplicate the config in both the <code>config.yml</code> file and this class. But it's a small task, plus a tool exist to generate the configuration class from the <code>config.yml</code> (we'll talk about this later).</p>
<p>You'll have to write a class extending the <a href="https://zdevelopers.github.io/QuartzLib/index.html?fr/zcraft/zlib/components/configuration/Configuration.html"><code>Configuration</code></a> class. Let's call this class <code>Config</code>.</p>
<pre data-lang="java" class="language-java "><code class="language-java" data-lang="java">import fr.zcraft.quartzlib.components.configuration.Configuration;

public final class Config extends Configuration
{

}
</code></pre>
<p>For everything to work, load this class in your main plugin class:</p>
<pre data-lang="java" class="language-java "><code class="language-java" data-lang="java">loadComponents(Config.class);
</code></pre>
<h2 id="configuration-entries">Configuration entries<a class="zola-anchor" href="#configuration-entries" aria-label="Anchor link for: configuration-entries">ðŸ”—</a></h2>
<p>Then you add the configuration entries. The idea is to add a public and static field per entry, the data type being a <a href="https://zdevelopers.github.io/QuartzLib/index.html?fr/zcraft/zlib/components/configuration/ConfigurationItem.html"><code>ConfigurationItem&lt;?&gt;</code></a>.</p>
<pre data-lang="java" class="language-java "><code class="language-java" data-lang="java">import fr.zcraft.quartzlib.components.configuration.Configuration;
import fr.zcraft.quartzlib.components.configuration.ConfigurationItem;

&#x2F;&#x2F; I highly recommend to import this statically
import static fr.zcraft.quartzlib.components.configuration.ConfigurationItem.item;

public final class Config extends Configuration
{
    public static ConfigurationItem&lt;String&gt; MY_CONFIG = item(&quot;my_config&quot;, &quot;default value&quot;);
}
</code></pre>
<p>Here I created a <code>String</code> configuration item, related to the key <code>my_config</code> in the <code>config.yml</code> file. Using it like this will return the value as a <code>String</code> from the configuration file, or <code>&quot;default value&quot;</code> if the key is missing.</p>
<pre data-lang="java" class="language-java "><code class="language-java" data-lang="java">final String value = Config.MY_CONFIG.get();
</code></pre>
<h2 id="referencing-sub-keys">Referencing sub-keys<a class="zola-anchor" href="#referencing-sub-keys" aria-label="Anchor link for: referencing-sub-keys">ðŸ”—</a></h2>
<p>Let's say you have this configuration file:</p>
<pre data-lang="yaml" class="language-yaml "><code class="language-yaml" data-lang="yaml">title: My title
display-as:
    scoreboard: true
    action-bar: true
</code></pre>
<p>You can write the <code>Config</code> class in two different ways. The most intuitive one is to reference the sub-keys with the dot notation, just like Bukkit:</p>
<pre data-lang="java" class="language-java "><code class="language-java" data-lang="java">public final class Config extends Configuration
{
    public static ConfigurationItem&lt;String&gt; TITLE = item(&quot;title&quot;, &quot;My title&quot;);
    public static ConfigurationItem&lt;Boolean&gt; DISPLAY_AS_SCOREBOARD = item(&quot;display-as.scoreboard&quot;, true);
    public static ConfigurationItem&lt;Boolean&gt; DISPLAY_AS_ACTION_BAR = item(&quot;display-as.action-bar&quot;, true);
}
</code></pre>
<p>But you can also use sub-classes, like this:</p>
<pre data-lang="java" class="language-java "><code class="language-java" data-lang="java">import fr.zcraft.quartzlib.components.configuration.Configuration;
import fr.zcraft.quartzlib.components.configuration.ConfigurationItem;
import fr.zcraft.quartzlib.components.configuration.ConfigurationSection;

import static fr.zcraft.quartzlib.components.configuration.ConfigurationItem.item;
import static fr.zcraft.quartzlib.components.configuration.ConfigurationItem.section;

public final class Config extends Configuration
{
    public static final ConfigurationItem&lt;String&gt; TITLE = item(&quot;title&quot;, &quot;My title&quot;);

    public static final DisplayAsSection DISPLAY_AS = section(&quot;display-as&quot;, DisplayAsSection.class);
    public static class DisplayAsSection  extends ConfigurationSection
    {
        public ConfigurationItem&lt;Boolean&gt; SCOREBOARD = item(&quot;scoreboard&quot;, true);
        public ConfigurationItem&lt;Boolean&gt; ACTION_BAR = item(&quot;action-bar&quot;, true);
    }
}
</code></pre>
<p>The <code>section</code> method is used to identify the <code>DISPLAY_AS</code> attribute as a section. The string is the section key in the <code>config.yml</code> file, and the class is a reference to the sub-class defining the configuration in this section.</p>
<p>The sub-classes have to extend <code>ConfigurationSection</code>, and its members are not <code>static</code>; excepted that, it's the same as before. You also don't have to mention the parent section in a configuration class (I wrote <code>item(&quot;scoreboard&quot;, true);</code> instead of <code>item(&quot;display-as.scoreboard&quot;, true);</code>).</p>
<p>To access fields defined like this, it's really simple (and readable):</p>
<pre data-lang="java" class="language-java "><code class="language-java" data-lang="java">final Boolean displayAsScoreboard = Config.DISPLAY_AS.SCOREBOARD.get();
</code></pre>
<h3 id="advantages-of-sub-keys-references-using-sub-classes">Advantages of sub-keys references using sub-classes<a class="zola-anchor" href="#advantages-of-sub-keys-references-using-sub-classes" aria-label="Anchor link for: advantages-of-sub-keys-references-using-sub-classes">ðŸ”—</a></h3>
<p>This kind of class is a bit harder to write, but it comes with some advantages.</p>
<ol>
<li>
<p>You can <strong>reuse the configuration sections</strong>.
See this configuration file (inspired by <a href="https://github.com/zDevelopers/BelovedBlocks/">BelovedBlocks</a>):</p>
<pre data-lang="yaml" class="language-yaml "><code class="language-yaml" data-lang="yaml">oak:
    name: &quot;Oak&quot;
    craftable: true
    itemGlow: true
birch:
    name: &quot;Oak&quot;
    craftable: true
    itemGlow: true
# ...
</code></pre>
<p>You can of course repeat the sections, but you can also write something like this:</p>
<pre data-lang="java" class="language-java "><code class="language-java" data-lang="java">public final class Config extends Configuration
{
    public final BlockSection OAK = section(&quot;oak&quot;, BlockSection.class);
    public final BlockSection BIRCH = section(&quot;birch&quot;, BlockSection.class);
    &#x2F;&#x2F; And 10 more if you want

    static public class BlockSection extends ConfigurationSection
    {
        public final ConfigurationItem&lt;String&gt; NAME = item(&quot;name&quot;, String.class);
        public final ConfigurationItem&lt;Boolean&gt; CRAFTABLE = item(&quot;craftable&quot;, true);
        public final ConfigurationItem&lt;Boolean&gt; GLOW = item(&quot;itemGlow&quot;, true);
    }
}
</code></pre>
</li>
<li>
<p>You can <strong>extend configuration sections</strong>.
Now we will use this <code>config.yml</code> (inspired by <a href="https://github.com/zDevelopers/BelovedBlocks/">BelovedBlocks</a> too):</p>
<pre data-lang="yaml" class="language-yaml "><code class="language-yaml" data-lang="yaml">oak:
    name: &quot;Oak&quot;
    craftable: true
    itemGlow: true
    amountCrafted: 4
birch:
    name: &quot;Birch&quot;
    craftable: true
    itemGlow: true
    amountCrafted: 4
# ...
stonecutter:
    name: &quot;Stonecutter&quot;
    craftable: true
    itemGlow: true
    usageInLore: true
    percentageBreaking: 0.1
saw:
    name: &quot;Saw&quot;
    craftable: true
    itemGlow: true
    usageInLore: true
    percentageBreaking: 0.1
</code></pre>
<p>You can use inheritance mechanisms to write less code and avoid duplicates:</p>
<pre data-lang="java" class="language-java "><code class="language-java" data-lang="java">public final class Config extends Configuration
{
    public final BlockSection OAK = section(&quot;oak&quot;, BlockSection.class);
    public final BlockSection BIRCH = section(&quot;birch&quot;, BlockSection.class);
    &#x2F;&#x2F; And 10 more if you want

    public final ToolSection STONE_CUTTER = section(&quot;stonecutter&quot;, ToolSection.class);
    public final ToolSection SAW = section(&quot;saw&quot;, ToolSection.class);
    &#x2F;&#x2F; Same here

    static public class ItemSection extends ConfigurationSection
    {
        public final ConfigurationItem&lt;String&gt; NAME = item(&quot;name&quot;, String.class);
        public final ConfigurationItem&lt;Boolean&gt; CRAFTABLE = item(&quot;craftable&quot;, true);
        public final ConfigurationItem&lt;Boolean&gt; GLOW = item(&quot;itemGlow&quot;, true);
    }

    static public class BlockSection extends ItemSection
    {
        public final ConfigurationItem&lt;String&gt; AMOUNT_CRAFTED = item(&quot;amountCrafted&quot;, String.class);
    }

    static public class ToolSection extends ItemSection
    {
        public final ConfigurationItem&lt;Boolean&gt; USAGE_IN_LORE = item(&quot;usageInLore&quot;, true);
        public final ConfigurationItem&lt;Float&gt; PERCENTAGE_BREAKING = item(&quot;percentageBreaking&quot;, 0.1f);
    }
</code></pre>
<p>And from the user point of view, it's still the same.</p>
<pre data-lang="java" class="language-java "><code class="language-java" data-lang="java">final float sawPercentage = Config.SAW.PERCENTAGE_BREAKING.get();
</code></pre>
</li>
</ol>
<h2 id="lists-in-the-configuration">Lists in the configuration<a class="zola-anchor" href="#lists-in-the-configuration" aria-label="Anchor link for: lists-in-the-configuration">ðŸ”—</a></h2>
<p>To retrieve configurations like this:</p>
<pre data-lang="yaml" class="language-yaml "><code class="language-yaml" data-lang="yaml">my-list:
  - Item 1
  - Item 2
</code></pre>
<p>...create an entry like this. Note the <code>ConfigurationList</code> instead of <code>ConfigurationItem</code>, and the <code>list</code> method after.</p>
<pre data-lang="java" class="language-java "><code class="language-java" data-lang="java">import static fr.zcraft.quartzlib.components.configuration.ConfigurationItem.list;

public final class Config extends Configuration
{
    public static ConfigurationList&lt;String&gt; MY_LIST = list(&quot;my-list&quot;, String.class);
}
</code></pre>
<p>The type parameter of <code>ConfigurationList&lt;?&gt;</code> is the data type of the items in the list (here, strings). You also have to give the data type again in the <code>list</code> method, due to Java limitations.</p>
<p>The <a href="https://zdevelopers.github.io/QuartzLib/index.html?fr/zcraft/zlib/components/configuration/ConfigurationList.html"><code>ConfigurationList&lt;?&gt;</code></a> class implements the <code>List&lt;?&gt;</code> and <code>Iterable&lt;?&gt;</code> interfaces, so you can use them like this:</p>
<pre data-lang="java" class="language-java "><code class="language-java" data-lang="java">for (String item : Config.MY_LIST)
    &#x2F;&#x2F; Do something...
</code></pre>
<h2 id="maps-in-the-configuration">Maps in the configuration<a class="zola-anchor" href="#maps-in-the-configuration" aria-label="Anchor link for: maps-in-the-configuration">ðŸ”—</a></h2>
<p>Maps are for YAML structures like this:</p>
<pre data-lang="yaml" class="language-yaml "><code class="language-yaml" data-lang="yaml">map:
    key: 1.5
    key2: 45.2
</code></pre>
<p>where the keys and values can be changed by the user. The keys can be a string or anything that can be extracted from a string. The value can be either a simple value (like the ones of <code>item</code>), or a section.</p>
<p>Translation in the code:</p>
<pre data-lang="java" class="language-java "><code class="language-java" data-lang="java">public static ConfigurationMap&lt;String, Float&gt; MAP = map(&quot;map&quot;, String.class, Float.class);
</code></pre>
<p>Or with a section instead:</p>
<pre data-lang="yaml" class="language-yaml "><code class="language-yaml" data-lang="yaml">map:
    key:
        item1: value
        item2: value
    key2:
        item1: value
        item2: value
</code></pre>
<pre data-lang="java" class="language-java "><code class="language-java" data-lang="java">public static ConfigurationMap&lt;String, MapSection&gt; MAP = map(&quot;map&quot;, String.class, MapSection.class);

public static class MapSection extends ConfigurationSection
{
    public static ConfigurationItem&lt;String&gt; ITEM_1 = item(&quot;item1&quot;, &quot;value&quot;);
    public static ConfigurationItem&lt;String&gt; ITEM_2 = item(&quot;item2&quot;, &quot;value&quot;);
}
</code></pre>
<p>The <a href="https://zdevelopers.github.io/QuartzLib/index.html?fr/zcraft/zlib/components/configuration/ConfigurationMap.html"><code>ConfigurationMap&lt;?, ?&gt;</code></a> objects implements the <code>Map&lt;?,?&gt;</code> and <code>Iterable&lt;Map.Entry&lt;?,?&gt;&gt;</code> interfaces, so you can list the values stored like this:</p>
<pre data-lang="java" class="language-java "><code class="language-java" data-lang="java">for (Map.Entry&lt;String, MapSection&gt; entry : Config.MAP.entrySet())
    &#x2F;&#x2F; Do something...
</code></pre>
<h1 id="the-great-and-hidden-powers-of-the-value-handlers">The great and hidden powers of the Value Handlers<a class="zola-anchor" href="#the-great-and-hidden-powers-of-the-value-handlers" aria-label="Anchor link for: the-great-and-hidden-powers-of-the-value-handlers">ðŸ”—</a></h1>
<p>So you have a class to handle your configuration. Nice. You put data types inside. You probably noticed you can use the basic data types just like Bukkit:</p>
<pre data-lang="java" class="language-java "><code class="language-java" data-lang="java">public static ConfigurationItem&lt;String&gt; MY_STRING = item(&quot;my-string&quot;, &quot;default value&quot;);
public static ConfigurationItem&lt;Boolean&gt; MY_BOOLEAN = item(&quot;my-boolean&quot;, true);
public static ConfigurationItem&lt;Double&gt; MY_DOUBLE = item(&quot;my-double&quot;, 42.69d);
</code></pre>
<p>But in fact, you can also write this:</p>
<pre data-lang="java" class="language-java "><code class="language-java" data-lang="java">public static ConfigurationItem&lt;Material&gt; MY_MATERIAL = item(&quot;my-material&quot;, Material.NETHER_STAR);
public static ConfigurationItem&lt;Achievement&gt; MY_ACHIEVEMENT = item(&quot;my-achievement&quot;, Achievement.OPEN_INVENTORY);
</code></pre>
<p>Or this:</p>
<pre data-lang="java" class="language-java "><code class="language-java" data-lang="java">public static ConfigurationItem&lt;ItemStack&gt; MY_ITEM = item(&quot;my-item&quot;, new ItemStack(Material.STONE, 2));
</code></pre>
<p>Or even this:</p>
<pre data-lang="java" class="language-java "><code class="language-java" data-lang="java">public static ConfigurationItem&lt;MyCustomObject&gt; MY_OBJECT = item(&quot;my-object&quot;, new MyCustomObject(&quot;some default&quot;));
</code></pre>
<p>This is where things get interesting.</p>
<h2 id="a-configuration-value-handler">A Configuration Value Handler?<a class="zola-anchor" href="#a-configuration-value-handler" aria-label="Anchor link for: a-configuration-value-handler">ðŸ”—</a></h2>
<p>Behind the scenes, a Configuration Value Handler is what is used to transform a raw value retrieved from the Bukkit configuration accessor to an exploitable, validated value.
It's a simple static method taking a single parameter (retrieved from the config through Bukkit) and returning a parsed and transformed object of the right type (either simple like a <code>Double</code> or more complex like an <code>ItemStack</code>).</p>
<h2 id="the-built-in-handlers">The built-in handlers<a class="zola-anchor" href="#the-built-in-handlers" aria-label="Anchor link for: the-built-in-handlers">ðŸ”—</a></h2>
<p>We created a few handlers for usual data types, avoiding you to reimplement them.</p>
<table>
<tr><th><strong>Data type</strong></th><th>Configuration example</th></tr>
<tr>
    <td>
        <strong>All standard data types.</strong>
        <ul>
            <li><code>Boolean</code></li>
            <li><code>Byte</code></li>
            <li><code>Short</code></li>
            <li><code>Integer</code></li>
            <li><code>Long</code></li>
            <li><code>Float</code></li>
            <li><code>Double</code></li>
            <li><code>Char</code></li>
            <li><code>String</code></li>
        </ul>
    </td>
    <td><em>Extracted using the <code>[Type].parse[Type](Object)</code> methods, or <code>toString</code> for strings-related types.</em></td>
</tr>
<tr>
    <td>
        <strong>Any <code>Enum</code>.</strong><br />
        <em>Using <code>Enum.valueOf(String)</code> after dash and spaces replacement by underscores, and upper-casing.</em>
    </td>
    <td><pre lang="yaml">material: DIRT
entity: vex
your-custom-enum: a value</pre></td>
</tr>
<tr>
    <td>
        <strong>A <code>Locale</code>.</strong><br />
        <em>Using <code><a href="http://docs.oracle.com/javase/7/docs/api/index.html?java/util/Locale.Builder.html">Locale.Builder</a>.setLanguageTag(String)</code></em>
    </td>
    <td><pre lang="yaml">lang: fr-FR</pre></td>
</tr>
<tr>
    <td>
        <strong>A Bukkit <code>Vector</code>.</strong><br />
        <em>Use them to retrieve a location.</em>
    </td>
    <td>Either:
<pre lang="yaml">vector: 15,65,-128</pre>
or:
<pre lang="yaml">vector:
    x: 15
    y: 65
    z: -128</pre>
<em>(Fields are optional and default to <code>0</code> in the second format.)</em></td>
</tr>
<tr>
    <td>
        <strong>An <code>Enchantment</code>.</strong><br />
        <em>As they are not technically an <code>Enum</code>.</em>
    </td>
    <td><pre lang="yaml">enchantment: damage_undead</pre></td>
</tr>
<tr>
    <td>
        <strong>An <code>ItemStack</code>.</strong>
    </td>
    <td><pre lang="yaml">item:
    type: cake block  # Only required field
    amount: 12  # Defaults to 0
    data: 1
    title: "The Lie"
    lore:
      - Line 1 of the lore
      - Line 2 of the lore
    glow: true  # Adds a fake enchant to have a glowing item
    hideAttributes: true  # Hides all the item attributes in the tooltip
    enchantments:
        damage_all: 2
        depth_strider: 3
    # Below: only for the Potion type
    effect: fire resistance   # Required
    level: 2   # Defaults to 1
    splash: true   # Defaults to false
    extended: true   # Defaults to false</pre>
<em>(<a href="https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/enchantments/Enchantment.html">Enchantment names</a> â€” <a href="https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/potion/PotionType.html">Potion effect names</a>)</em></td>
</tr>
<tr>
    <td>
        <strong>A <code>Potion</code>.</strong>
    </td>
    <td><pre lang="yaml">potion:
    effect: fire resistance   # Required
    level: 2   # Defaults to 1
    splash: true   # Defaults to false
    extended: true   # Defaults to false</pre>
<em>(<a href="https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/potion/PotionType.html">Potion effect names</a>)</em></td>
</tr>
<tr>
    <td>
        <strong>A <code>DyeColor</code>.</strong><br />
        <em>It's an enum so you can just use the name, but a support for old numeric codes was added.</em>
    </td>
    <td><pre lang="yaml">dye: yellow
dye: 12</pre>
<em>(<a href="https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/DyeColor.html">Dye names</a>)</em></td>
</tr>
<tr>
    <td>
        <strong>A <code>BannerMeta</code>.</strong>
    </td>
    <td><pre lang="yaml">banner:
    color: black  # A DyeColor, see above
    patterns:
        - {Pattern: hh,Color: 0}
        - {Pattern: cs,Color: 15}
        - {Pattern: hhb,Color: 1}
        - {Pattern: ms,Color: 14}
        - {Pattern: ts,Color: 15}
        - {Pattern: bs,Color: 15}
        - {Pattern: bo,Color: 15}
</pre>
<em>(<a href="http://www.needcoolshoes.com/banner">Banner generator</a>; extract the values from the commands. You can also write the JSON value directly: <code>[{Pattern: hh}, â€¦]</code>.)</em></td>
</tr>
</table>


        </article>

    </main>

    
<footer>
    <small class="subtext">
        <a href="https://dev.zcraft.fr">zDevelopers</a>
        &middot; Creative Commons BY-SA, 2015 â€“ 2023
        &middot; Built using <a href="https://www.getzola.org">Zola</a>, <a href="https://github.com/huhu/juice">Juice</a> and
        <a href="https://primer.style/octicons/">Octicons</a>.
        &middot; This website is <a href="https://github.com/zDevelopers/zdevelopers.github.io">open-source</a> (and still in under construction).
    </small>
</footer>

</body>
<script>
    function highlightNav(heading) {
        let pathname = location.pathname;
        document.querySelectorAll(".toc a").forEach((item) => {
            item.classList.remove("active");
        });
        document.querySelector(".toc a[href$='" + pathname + "#" + heading + "']").classList.add("active");
    }

    let currentHeading = "";
    window.onscroll = function () {
        let h = document.querySelectorAll("h1,h2,h3,h4,h5,h6");
        let elementArr = [];

        h.forEach(item => {
            if (item.id !== "") {
                elementArr[item.id] = item.getBoundingClientRect().top;
            }
        });
        elementArr.sort();
        for (let key in elementArr) {
            if (!elementArr.hasOwnProperty(key)) {
                continue;
            }
            if (elementArr[key] > 0 && elementArr[key] < 300) {
                if (currentHeading !== key) {
                    highlightNav(key);
                    currentHeading = key;
                }
                break;
            }
        }
    }
</script>

</html>
