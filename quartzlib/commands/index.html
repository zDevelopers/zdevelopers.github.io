<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Commands | QuartzLib | zDevelopers </title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="https://fonts.googleapis.com/css?family=Alfa+Slab+One&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Fira+Sans:400,500,600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/normalize.css">
    <link rel="stylesheet" href="https://dev.zcraft.fr/juice.css">
    
    
</head>

<body>
    
<header class="main box-shadow">
    

<a href="https:&#x2F;&#x2F;dev.zcraft.fr&#x2F;">
    <div class="logo">
        <img src="https://dev.zcraft.fr/logo.png" alt="logo">
        zDevelopers
    </div>
</a>

<nav>
    
        
        <a class="nav-item subtitle-text" href="&#x2F;#bukkit-plugins" title="">
            
                Plugins
            
        </a>
        
        <a class="nav-item subtitle-text" href="&#x2F;#libraries-for-developers" title="">
            
                Libraries
            
        </a>
        
        <a class="nav-item subtitle-text" href="&#x2F;support" title="">
            
                Support
            
        </a>
        
        <a class="nav-item subtitle-text" href="https:&#x2F;&#x2F;github.com&#x2F;zDevelopers" title="GitHub organization">
            
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg>
            
        </a>
        
    
</nav>

</header>


    <main>
        <aside>
            
    
    
        <div class="project aside-section">
            <header>
                <h2><a href="https:&#x2F;&#x2F;dev.zcraft.fr&#x2F;quartzlib&#x2F;">QuartzLib</a></h2>
                
                    <a href="https:&#x2F;&#x2F;github.com&#x2F;zDevelopers&#x2F;QuartzLib">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg>
                    </a>
                
            </header>

            <div class="toc">
                
                    
                        
                    
                    
                        
                        
                    
                    <div class="toc-item">
                        <a href="https:&#x2F;&#x2F;dev.zcraft.fr&#x2F;quartzlib&#x2F;gui&#x2F;" class="subtext">GUI</a>
                    </div>
                
                    
                        
                    
                    
                        
                        
                    
                    <div class="toc-item">
                        <a href="https:&#x2F;&#x2F;dev.zcraft.fr&#x2F;quartzlib&#x2F;configuration&#x2F;" class="subtext">Configuration </a>
                    </div>
                
                    
                        
                    
                    
                        
                        
                    
                    <div class="toc-item">
                        <a href="https:&#x2F;&#x2F;dev.zcraft.fr&#x2F;quartzlib&#x2F;commands&#x2F;" class="subtext active">Commands </a>
                    </div>
                
            </div>

            
                <ul class="external-links">
                    
                        <li><a href="&#x2F;docs&#x2F;quartzlib">Javadoc</a></li>
                    
                        <li><a href="https:&#x2F;&#x2F;www.spigotmc.org&#x2F;resources&#x2F;quartzlib.32310&#x2F;">Spigot</a></li>
                    
                </ul>
            
        </div>
    


            
                
                    
                

                
                    <div class="toc aside-section is-sticky">
                        
                            <div class="toc-item">
                                <a class="subtext" href="https://dev.zcraft.fr/quartzlib/commands/#writing-commands">Writing commands</a>
                            </div>
                            
                        
                            <div class="toc-item">
                                <a class="subtext" href="https://dev.zcraft.fr/quartzlib/commands/#registering-commands">Registering commands</a>
                            </div>
                            
                        
                            <div class="toc-item">
                                <a class="subtext" href="https://dev.zcraft.fr/quartzlib/commands/#writing-documentation">Writing documentation</a>
                            </div>
                            
                                
                                    <div class="toc-item-child">
                                        <a class="subtext" href="https://dev.zcraft.fr/quartzlib/commands/#preview"><small>Preview</small></a>
                                    </div>
                                
                                    <div class="toc-item-child">
                                        <a class="subtext" href="https://dev.zcraft.fr/quartzlib/commands/#help-files"><small>Help files</small></a>
                                    </div>
                                
                                    <div class="toc-item-child">
                                        <a class="subtext" href="https://dev.zcraft.fr/quartzlib/commands/#command"><small>&#x2F;command</small></a>
                                    </div>
                                
                                    <div class="toc-item-child">
                                        <a class="subtext" href="https://dev.zcraft.fr/quartzlib/commands/#command-help"><small>&#x2F;command help</small></a>
                                    </div>
                                
                                    <div class="toc-item-child">
                                        <a class="subtext" href="https://dev.zcraft.fr/quartzlib/commands/#command-help-subcommand"><small>&#x2F;command help subcommand</small></a>
                                    </div>
                                
                            
                        
                    </div>
                
            
        </aside>

        <article class="content text">
            
    <div class="heading-text">Commands</div>
    <p>This component simplifies the management of commands with sub-commands and aliases.</p>
<dl class="summary">
    <dt><strong>Documentation</strong></dt>
    <dd><a href="https:&#x2F;&#x2F;dev.zcraft.fr&#x2F;docs&#x2F;quartzlib&#x2F;index.html?fr&#x2F;zcraft&#x2F;quartzlib&#x2F;components&#x2F;commands&#x2F;package-summary.html">Javadoc</a></dd>

    <dt><strong>Loader class</strong> <small>(for <code>loadComponents</code>)</small></dt>
    <dd><code>fr.zcraft.quartzlib.components.commands.Commands</code></dd>
</dl>
<h1 id="writing-commands">Writing commands<a class="zola-anchor" href="#writing-commands" aria-label="Anchor link for: writing-commands">ðŸ”—</a></h1>
<p>Each sub-command of a command is a class <a href="http://jenkins.carrade.eu/job/zLib/javadoc/index.html?fr/zcraft/zlib/components/commands/Command.html">extending <code>Command</code></a>, with a <a href="http://jenkins.carrade.eu/job/zLib/javadoc/index.html?fr/zcraft/zlib/components/commands/CommandInfo.html"><code>@CommandInfo</code></a> annotation to describe the command (name, parameters help, aliases). A zero-arguments constructor is required.</p>
<p>In the <code>Command</code> sub-class, you have to override the <code>run()</code> (and optionally <code>complete()</code>) methods, respectively to execute the command and to auto-complete it.</p>
<pre data-lang="java" class="language-java "><code class="language-java" data-lang="java">package fr.zcraft.ztoaster.commands;

import fr.zcraft.zlib.components.commands.Command;
import fr.zcraft.zlib.components.commands.CommandException;
import fr.zcraft.zlib.components.commands.CommandInfo;

@CommandInfo(name = &quot;awesomeness&quot;)
public class AwesomeCommand extends Command
{
    @Override
    protected void run() throws CommandException
    {
        &#x2F;&#x2F; Your awesome command here
        sender.sendMessage(ChatColor.GOLD + &quot;Such awesomeness&quot;);
        sender.sendMessage(ChatColor.GREEN + &quot;Very grassy&quot;);
        sender.sendMessage(ChatColor.GRAY + &quot;Wow.&quot;);
    }
}
</code></pre>
<p>Alongside, a few methods are available to easily retrieve and parse parameters, or to send answers. All the attributes (like <code>sender</code> in the example code above) and methods are described in the <a href="http://jenkins.carrade.eu/job/zLib/javadoc/index.html?fr/zcraft/zlib/components/commands/Command.html">documentation of the <code>Command</code> class</a>.</p>
<p>Errors are managed with exceptions: if something bad happens, throw a <a href="http://jenkins.carrade.eu/job/zLib/javadoc/index.html?fr/zcraft/zlib/components/commands/CommandException.html"><code>CommandException</code></a> with the good <a href="http://jenkins.carrade.eu/job/zLib/javadoc/index.html?fr/zcraft/zlib/components/commands/CommandException.Reason.html">reason</a>. Methods are here to do that for you, too.</p>
<table><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody>
<tr><td><code>error(String message)</code></td><td>To be called if something bad happens.</td></tr>
<tr><td><code>throwInvalidArgument(String reason)</code></td><td>To be called if an argument is invalid (explain why with <code>reason</code>).</td></tr>
<tr><td><code>playerSender()</code></td><td>Returns the sender casted to <code>Player</code> or throws a <code>CommandException</code> with the reason <code>COMMANDSENDER_EXPECTED_PLAYER</code>.</td></tr>
<tr><td><code>getBooleanParameter(int i)</code><br /><code>getDoubleParameter(int i) </code><br /><code>getFloatParameter(int i)</code><br /><code>getIntegerParameter(int i)</code><br /><code>getLongParameter(int i)</code><br /><code>getEnumParameter(int i, Class&lt;T&gt; type)</code></td><td>Returns the parameter at the given index casted to the required type, and throws a <code>CommandException</code> with the reason <code>INVALID_PARAMETERS</code> if it's not possible.</td></tr>
<tr><td>Â </td><td></td></tr>
</tbody></table>
<h1 id="registering-commands">Registering commands<a class="zola-anchor" href="#registering-commands" aria-label="Anchor link for: registering-commands">ðŸ”—</a></h1>
<p>When the subcommands are ready, you'll have to register them like this.</p>
<pre data-lang="java" class="language-java "><code class="language-java" data-lang="java">&#x2F;&#x2F; &quot;toaster&quot; is the name of the root command: &#x2F;toaster ...
Commands.register(&quot;toaster&quot;, AwesomeCommand.class, AnotherCommand.class);
</code></pre>
<p>You can also register shortcut to some subcommands through a simple command; as example, this will execute <code>/toaster awesomeness</code> while executing <code>/awesome</code> or <code>/aw</code>:</p>
<pre data-lang="java" class="language-java "><code class="language-java" data-lang="java">Commands.registerShortcut(&quot;toaster&quot;, AwesomeCommand.class, &quot;awesome&quot;, &quot;aw&quot;);
</code></pre>
<p><strong>Warning!</strong> All the main commands must be registered in the <code>plugin.yml</code> file, or an <code>IllegalStateException</code> will be thrown.
<em>Here, <code>/toaster</code> and <code>/awesome</code> have to be explicitely registered, as <code>/aw</code> is registered as an alias.</em>
Â </p>
<h1 id="writing-documentation">Writing documentation<a class="zola-anchor" href="#writing-documentation" aria-label="Anchor link for: writing-documentation">ðŸ”—</a></h1>
<p>This component auto-generates the user documentation of the commands, through a description when the command is executed without subcommand and an auto-generated <code>help</code> subcommand.</p>
<h2 id="preview">Preview<a class="zola-anchor" href="#preview" aria-label="Anchor link for: preview">ðŸ”—</a></h2>
<p>These preview comes from a real plugin (SpectatorPlus).</p>
<ul>
<li><strong>Command executed without sub-command</strong> (<code>/command</code>)
<img src="http://raw.carrade.eu/s/1451482016.png" alt="Command executed without sub-command" /></li>
<li><strong>Sub-commands global help</strong> (<code>/command help</code>)
<img src="http://raw.carrade.eu/s/1451482267.png" alt="Help sub-command" /></li>
<li><strong>Detailed help of a sub-command</strong> (<code>/command help subcommand</code>)
<img src="http://raw.carrade.eu/s/1451485163.png" alt="Help of a command" /></li>
</ul>
<h2 id="help-files">Help files<a class="zola-anchor" href="#help-files" aria-label="Anchor link for: help-files">ðŸ”—</a></h2>
<p>This said, the documentation does not comes from no-where: the help texts are wrote in a <code>help</code> subdirectory of your resources directory (next to the <code>plugin.yml</code> file). You can use <a href="http://minecraft.gamepedia.com/Formatting_codes"><code>Â§</code>-based formatting codes</a> in these files, and new lines are kept.</p>
<h2 id="command"><code>/command</code><a class="zola-anchor" href="#command" aria-label="Anchor link for: command">ðŸ”—</a></h2>
<table><thead><tr><th>File location</th><th>Content</th></tr></thead><tbody>
<tr><td>â€”</td><td>The message displayed when the command is called without arguments is auto-generated based on:<ul><li>the subcommands (for the Â« Usage Â» line in red);</li><li>the <code>description</code> field in the <code>plugin.yml</code> file (for the other lines).</li></ul></td></tr>
</tbody></table>
<h2 id="command-help"><code>/command help</code><a class="zola-anchor" href="#command-help" aria-label="Anchor link for: command-help">ðŸ”—</a></h2>
<table><thead><tr><th>File location</th><th>Content</th></tr></thead><tbody>
<tr><td><code>help/<strong>command</strong>.txt</code></td><td>Contains the main help of a command.<br /><ul><li>The first lines contains the introduction, displayed above the commands list.</li><li>The other lines contains the help for each subcommand, following this format.<pre>subcommand:Help of this subcommand</pre>The order of the subcommands is the one in the <code>Commands.register</code> method.</td></tr>
</tbody></table>
<h2 id="command-help-subcommand"><code>/command help subcommand</code><a class="zola-anchor" href="#command-help-subcommand" aria-label="Anchor link for: command-help-subcommand">ðŸ”—</a></h2>
<table><thead><tr><th>File location</th><th>Content</th></tr></thead><tbody>
<tr><td><code>help/<strong>command</strong>/<strong>subcommand</strong>.txt</code></td><td>Contains the blue-prefixed help of a subcommand, displayed below the command usage summary.<br />The lines are not automatically truncated to fit well in the chat, so avoid lines above 55-60 characters if you don't want to break the blue line.</td></tr>
</tbody></table>


        </article>

    </main>

    
<footer>
    <small class="subtext">
        <a href="https://dev.zcraft.fr">zDevelopers</a>
        &middot; Creative Commons BY-SA, 2015 â€“ 2023
        &middot; Built using <a href="https://www.getzola.org">Zola</a>, <a href="https://github.com/huhu/juice">Juice</a> and
        <a href="https://primer.style/octicons/">Octicons</a>.
        &middot; This website is <a href="https://github.com/zDevelopers/zdevelopers.github.io">open-source</a> (and still in under construction).
    </small>
</footer>

</body>
<script>
    function highlightNav(heading) {
        let pathname = location.pathname;
        document.querySelectorAll(".toc a").forEach((item) => {
            item.classList.remove("active");
        });
        document.querySelector(".toc a[href$='" + pathname + "#" + heading + "']").classList.add("active");
    }

    let currentHeading = "";
    window.onscroll = function () {
        let h = document.querySelectorAll("h1,h2,h3,h4,h5,h6");
        let elementArr = [];

        h.forEach(item => {
            if (item.id !== "") {
                elementArr[item.id] = item.getBoundingClientRect().top;
            }
        });
        elementArr.sort();
        for (let key in elementArr) {
            if (!elementArr.hasOwnProperty(key)) {
                continue;
            }
            if (elementArr[key] > 0 && elementArr[key] < 300) {
                if (currentHeading !== key) {
                    highlightNav(key);
                    currentHeading = key;
                }
                break;
            }
        }
    }
</script>

</html>
