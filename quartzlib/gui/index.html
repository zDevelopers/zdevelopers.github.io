<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>GUI | zDevelopers </title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="https://fonts.googleapis.com/css?family=Alfa+Slab+One&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Fira+Sans:400,500,600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/normalize.css">
    <link rel="stylesheet" href="https://dev.zcraft.fr/juice.css">
    
    
</head>

<body>
    
<header class="main box-shadow">
    

<a href="https:&#x2F;&#x2F;dev.zcraft.fr&#x2F;">
    <div class="logo">
        <img src="https://dev.zcraft.fr/logo.png" alt="logo">
        zDevelopers
    </div>
</a>

<nav>
    
        
        <a class="nav-item subtitle-text" href="&#x2F;#bukkit-plugins" title="">
            
                Plugins
            
        </a>
        
        <a class="nav-item subtitle-text" href="&#x2F;#libraries-for-developers" title="">
            
                Libraries
            
        </a>
        
        <a class="nav-item subtitle-text" href="&#x2F;support" title="">
            
                Support
            
        </a>
        
        <a class="nav-item subtitle-text" href="https:&#x2F;&#x2F;github.com&#x2F;zDevelopers" title="GitHub organization">
            
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg>
            
        </a>
        
    
</nav>

</header>


    <main>
        <aside>
            
    
    
        <div class="project aside-section">
            <header>
                <h2><a href="https:&#x2F;&#x2F;dev.zcraft.fr&#x2F;quartzlib&#x2F;">QuartzLib</a></h2>
                
                    <a href="https:&#x2F;&#x2F;github.com&#x2F;zDevelopers&#x2F;QuartzLib">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg>
                    </a>
                
            </header>

            <div class="toc">
                
                    
                        
                    
                    
                        
                        
                    
                    <div class="toc-item">
                        <a href="https:&#x2F;&#x2F;dev.zcraft.fr&#x2F;quartzlib&#x2F;gui&#x2F;" class="subtext active">GUI</a>
                    </div>
                
                    
                        
                    
                    
                        
                        
                    
                    <div class="toc-item">
                        <a href="https:&#x2F;&#x2F;dev.zcraft.fr&#x2F;quartzlib&#x2F;configuration&#x2F;" class="subtext">Configuration </a>
                    </div>
                
                    
                        
                    
                    
                        
                        
                    
                    <div class="toc-item">
                        <a href="https:&#x2F;&#x2F;dev.zcraft.fr&#x2F;quartzlib&#x2F;commands&#x2F;" class="subtext">Commands </a>
                    </div>
                
            </div>

            
                <ul class="external-links">
                    
                        <li><a href="&#x2F;docs&#x2F;quartzlib">Javadoc</a></li>
                    
                        <li><a href="https:&#x2F;&#x2F;www.spigotmc.org&#x2F;resources&#x2F;quartzlib.32310&#x2F;">Spigot</a></li>
                    
                </ul>
            
        </div>
    


            
                
                    
                

                
                    <div class="toc aside-section is-sticky">
                        
                            <div class="toc-item">
                                <a class="subtext" href="https://dev.zcraft.fr/quartzlib/gui/#basic-chest-guis-action-gui">Basic chest GUIs (¬´ action GUI ¬ª)</a>
                            </div>
                            
                        
                            <div class="toc-item">
                                <a class="subtext" href="https://dev.zcraft.fr/quartzlib/gui/#guis-hierarchy">GUIs hierarchy</a>
                            </div>
                            
                        
                            <div class="toc-item">
                                <a class="subtext" href="https://dev.zcraft.fr/quartzlib/gui/#guis-from-a-collection-explorer-gui">GUIs from a collection (¬´ Explorer GUI ¬ª)</a>
                            </div>
                            
                                
                                    <div class="toc-item-child">
                                        <a class="subtext" href="https://dev.zcraft.fr/quartzlib/gui/#actions-in-explorers"><small>Actions in explorers</small></a>
                                    </div>
                                
                                    <div class="toc-item-child">
                                        <a class="subtext" href="https://dev.zcraft.fr/quartzlib/gui/#full-explorer-gui-example"><small>Full explorer GUI example</small></a>
                                    </div>
                                
                            
                        
                            <div class="toc-item">
                                <a class="subtext" href="https://dev.zcraft.fr/quartzlib/gui/#updating-guis">Updating GUIs</a>
                            </div>
                            
                        
                            <div class="toc-item">
                                <a class="subtext" href="https://dev.zcraft.fr/quartzlib/gui/#prompt-guis">Prompt GUIs</a>
                            </div>
                            
                        
                    </div>
                
            
        </aside>

        <article class="content text">
            
    <div class="heading-text">Graphical User Interfaces</div>
    <p>This component displays complex Minecraft GUIs with ease.</p>
<dl class="summary">
    <dt><strong>Documentation</strong></dt>
    <dd><a href="https:&#x2F;&#x2F;dev.zcraft.fr&#x2F;docs&#x2F;quartzlib&#x2F;index.html?fr&#x2F;zcraft&#x2F;quartzlib&#x2F;components&#x2F;gui&#x2F;package-summary.html">Javadoc</a></dd>

    <dt><strong>Loader class</strong> <small>(for <code>loadComponents</code>)</small></dt>
    <dd><code>fr.zcraft.quartzlib.components.gui.Gui</code></dd>
</dl>
<p>QuartzLib comes with a full-featured component to create GUIs (<em>Graphical User Interfaces</em>), either read-only or read-and-write. There is also a specific class to ask for any text through a sign.</p>
<h1 id="basic-chest-guis-action-gui">Basic chest GUIs (¬´ action GUI ¬ª)<a class="zola-anchor" href="#basic-chest-guis-action-gui" aria-label="Anchor link for: basic-chest-guis-action-gui">üîó</a></h1>
<p>All chest GUIs are created using a class extending <a href="https://dev.zcraft.fr/docs/quartzlib/index.html?fr/zcraft/quartzlib/components/gui/ActionGui.html"><code>ActionGui</code></a>. The only method you have to override is <code>onUpdate</code>, called when the GUI is created or updated.</p>
<p>In this method, you'll first have to define the GUI's properties, using the <code>setSize</code> and <code>setTitle</code> methods. Then, to populate the GUI with items, use the <code>action</code> methods. They all take an action name (keep that in mind, we will talk about them later), then a slot ID (from 0 to the size minus one), and finally some kind of ItemStack (an <code>ItemStack</code>, an <a href="https://dev.zcraft.fr/docs/quartzlib/index.html?fr/zcraft/quartzlib/tools/items/ItemStackBuilder.html"><code>ItemStackBuilder</code></a>, or some variants with a <code>Material</code>, title, lore... directly).</p>
<p>Simple enough. As example, you may have this now:</p>
<pre data-lang="java" class="language-java "><code class="language-java" data-lang="java">public class MyGUI extends ActionGui
{
    @Override
    public void onUpdate()
    {
        setTitle(ChatColor.BLACK + &quot;My toasting GUI!&quot;);
        setSize(9); &#x2F;&#x2F; One line

        action(&quot;my_action&quot;, 0, new ItemStack(Material.CARROT));
        action(&quot;close&quot;, 8, Material.BARRIER, &quot;Close GUI&quot;);
    }
}
</code></pre>
<p>You can open this GUI using this method‚Äîit's the same for <strong>all</strong> QuartzLib GUIs, where <code>player</code> is a <code>Player</code>.</p>
<pre data-lang="java" class="language-java "><code class="language-java" data-lang="java">Gui.open(player, new MyGUI());
</code></pre>
<p>Ok so, now, if you execute this, you'll have a nice GUI. How to do something when the player clicks somewhere? It's really easy.</p>
<p>Remember the names we gave to the actions? These will be used to reference methods executed when the item representing the action is clicked. You'll just have to annotate the method with <code>@GuiAction</code>, like so:</p>
<pre data-lang="java" class="language-java "><code class="language-java" data-lang="java">@GuiAction(&quot;my_action&quot;)
private void the_method_executing_my_action()
{
    &#x2F;&#x2F; do something (anything!)
}
</code></pre>
<p>Yes, that's all! To give another example, here is a working implementation of the second action defined in the example:</p>
<pre data-lang="java" class="language-java "><code class="language-java" data-lang="java">@GuiAction(&quot;close&quot;)
private void close_gui()
{
    close();
}
</code></pre>
<p>(see the javadoc to get a list of usable methods in GUIs; don't forget to check parent classes too!).</p>
<p>If you really <em>really</em> don't like annotations, the component will also look for a method named <code>action_&lt;action name&gt;</code>.<br />
The action methods can either take no argument, or the underlying <code>InventoryClickEvent</code>.</p>
<p>Finally, when an action is triggered and no associated method can be found, the following methods are called:</p>
<pre data-lang="java" class="language-java "><code class="language-java" data-lang="java">protected void unknown_action(String name, int slot, ItemStack item, InventoryClickEvent event);
protected void unknown_action(String name, int slot, ItemStack item);

&#x2F;&#x2F; To be exact, the first one calls the second in the default implementation.
</code></pre>
<p>You can override them to handle such cases.</p>
<h1 id="guis-hierarchy">GUIs hierarchy<a class="zola-anchor" href="#guis-hierarchy" aria-label="Anchor link for: guis-hierarchy">üîó</a></h1>
<p>If you use <code>Gui.open(player, new MyGUI());</code> and close the GUI, the GUI will be... well, closed. However, if it was opened from
another GUI, you may want to reopen this GUI (think of it like a sub-GUI). If you want this behaviour, open the GUI this way:</p>
<pre data-lang="java" class="language-java "><code class="language-java" data-lang="java">Gui.open(player, new MyGUI(), parentGUI);
</code></pre>
<p>where <code>parentGUI</code> is a reference to another GUI, re-opened when the GUI is closed using its method <code>close()</code>. As you will typically open sub-GUIs from the parent GUI, the code will look, most of the time, like this:</p>
<pre data-lang="java" class="language-java "><code class="language-java" data-lang="java">Gui.open(player, new MyGUI(), this);
</code></pre>
<h1 id="guis-from-a-collection-explorer-gui">GUIs from a collection (¬´ Explorer GUI ¬ª)<a class="zola-anchor" href="#guis-from-a-collection-explorer-gui" aria-label="Anchor link for: guis-from-a-collection-explorer-gui">üîó</a></h1>
<p>GUIs are frequently used to display a collection and do actions based on an item of this collection clicked.</p>
<p>Explorer GUIs were created with this use in mind. They can display automatically paginated views of any collection, 1D (list) or 2D (plane).</p>
<p>To get started, create a class extending <code>ExplorerGui&lt;T&gt;</code>. The class is parametrized with the data type you want to display ‚Äî it can be any object, a team, a toast, a player, a block, really anything. In the following example we'll use a Toast (from the zToaster test/example plugin; you can see <a href="https://github.com/zDevelopers/zToaster">the full source code here</a>).</p>
<p>The method to override is the same: <code>onUpdate</code>. You'll still call <code>setTitle</code> to change the GUI's title, but leave <code>setSize</code> alone: the explorer GUI sets the size itself.</p>
<p>There is a new method for Explorer GUIs: <code>setMode</code>, to leave the GUI read&amp;write or read only.</p>
<pre data-lang="java" class="language-java "><code class="language-java" data-lang="java">setMode(ExplorerGui.Mode.READONLY);
&#x2F;&#x2F; or
setMode(ExplorerGui.Mode.CREATIVE);
</code></pre>
<p>In <code>CREATIVE</code> mode, the players will be able to pickup items from the GUI.</p>
<p>To populate the GUI, it is quite different from before. You first have to call <code>setData</code> with an array containing the objects to be displayed, ordered.</p>
<p>If you want to display a list, use <code>setData(T[] data)</code> directly. For two-dimensional data, add the data width as the second argument. The array will be read like a matrix, with lines stored consecutively; we compute the height automatically.</p>
<p>For advanced use cases, you can directly specify the shape of your data using <code>setDataShape(int dataWidth, int dataHeight)</code>.</p>
<p>Now, you must override a method to translate one of your objects into an <code>ItemStack</code> to be displayed in the GUI. With our toasts, the method will look like this:</p>
<pre data-lang="java" class="language-java "><code class="language-java" data-lang="java">@Override
protected ItemStack getViewItem(Toast toast)
{
    &#x2F;&#x2F; We here use a simple logic to display a cooked or raw pork based on a
    &#x2F;&#x2F; ‚Äúcooked‚Äù toast property.
    &#x2F;&#x2F; But you can do anything you need here, as long as you return an ItemStack.
    if (toast.getStatus().equals(Toast.CookingStatus.COOKED))
    {
        return new ItemStackBuilder(Material.GRILLED_PORK)
                .title(&quot;Cooked toast #&quot; + toast.getToastId())
                .item();
    }
    else
    {
        return new ItemStackBuilder(Material.PORK)
                .title(&quot;Raw toast #&quot; + toast.getToastId())
                .item();
    }
}
</code></pre>
<p>To handle the case where the collection is empty, override the <code>getEmptyViewItem()</code> method (and return an ItemStack, displayed at the center of the GUI).</p>
<h2 id="actions-in-explorers">Actions in explorers<a class="zola-anchor" href="#actions-in-explorers" aria-label="Anchor link for: actions-in-explorers">üîó</a></h2>
<p>Well, you now have a paginated GUI with your data in it. How to execute something when the player clicks an item?</p>
<p>First thing first, <strong>you can define the same actions as in <code>ActionGui</code>-based GUIs</strong>. There is a space, between the pagination items links (items to be clicked to go to the next or previous page), where you can put static items with associated actions, just like before. For these, you should use <code>getSize()</code> to place them, plus add a specific method: see the example below.</p>
<pre data-lang="java" class="language-java "><code class="language-java" data-lang="java">@Override
public void onUpdate()
{
    setData(data);

    &#x2F;&#x2F; Let&#x27;s assume we want to add an action at the center of the bottom space
    &#x2F;&#x2F; in an explorer GUI. As getSize() returns the size of the GUI, we can
    &#x2F;&#x2F; substract slots from that to place our action at the end of the GUI.
    action(&quot;close&quot;, getSize() - 4, Material.BARRIER, &quot;Close GUI&quot;);

    &#x2F;&#x2F; ...BUT, with nothing else, the GUI will try to take all the place it can
    &#x2F;&#x2F; get, and use the last line to put items if all of them can fit in one
    &#x2F;&#x2F; page. There is an option to force the explorer GUI to keep this line
    &#x2F;&#x2F; empty no matter what, placing items normally there in another page.
    &#x2F;&#x2F; Here, we need this option because we use the space to place actions.
    setKeepHorizontalScrollingSpace(true);

    &#x2F;&#x2F; For 2D GUIs, setKeepVerticalScrollingSpace(boolean) is available too.
}
</code></pre>
<p>You can also ‚Äî of course ‚Äî handle clicks on items from the collection. For that you have three kinds of methods, one for left clicks, one for right clicks, and the last for placements.</p>
<pre data-lang="java" class="language-java "><code class="language-java" data-lang="java">protected ItemStack getPickedUpItem(int x, int y);
protected ItemStack getPickedUpItem(T data);
</code></pre>
<p>These two methods are executed when an item is left-clicked. They must return an <code>ItemStack</code> to be placed in the player's cursor, or <code>null</code> to cancel the event and put nothing. If not overridden, the item generated by <code>getViewItem</code> will be used.</p>
<pre data-lang="java" class="language-java "><code class="language-java" data-lang="java">protected void onRightClick(int x, int y);
protected void onRightClick(T data);
</code></pre>
<p>These two are called when an item is right-clicked. If you want to execute the same action on left and right click, override this one to call <code>getPickedUpItem</code>.</p>
<pre data-lang="java" class="language-java "><code class="language-java" data-lang="java">protected boolean onPutItem(ItemStack item);
</code></pre>
<p>This one is called when the player tries to place an item into the GUI. It must return either <code>true</code>, to accept the placement and consume the item in the player's cursor, or <code>false</code> to cancel the placement.</p>
<p>You can find <a href="https://dev.zcraft.fr/docs/quartzlib/index.html?fr/zcraft/quartzlib/components/gui/ExplorerGui.html">in the javadoc</a> a lot of other methods to navigate into the GUI (<code>next()</code>, <code>previous()</code>, etc.).</p>
<h2 id="full-explorer-gui-example">Full explorer GUI example<a class="zola-anchor" href="#full-explorer-gui-example" aria-label="Anchor link for: full-explorer-gui-example">üîó</a></h2>
<p>Here is a raw example of a GUI displaying all the <code>Material</code> in Minecraft; left-click gives one item; right-click gives a stack.</p>
<pre data-lang="java" class="language-java "><code class="language-java" data-lang="java">public class MaterialsGUI extends ExplorerGui&lt;Material&gt;
{
    &#x2F;**
     * We define a title and a close button
     **&#x2F;
    @Override
    protected void onUpdate()
    {
        setTitle(ChatColor.BLACK + &quot;All the materials!&quot;);
        setData(Material.values());

        action(&quot;close&quot;, getSize() - 4, Material.BARRIER, &quot;Close GUI&quot;);
        setKeepHorizontalScrollingSpace(true);
    }

    &#x2F;**
     * A lore is added to the items because UX!
     **&#x2F;
    @Override
    protected ItemStack getViewItem(Material material)
    {
        return new ItemStackBuilder(material)
            .loreLine(ChatColor.GRAY, &quot;Left-click to get one&quot;)
            .loreLine(ChatColor.GRAY, &quot;Right-click to get many&quot;)
            .item();
    }

    &#x2F;**
     * This method is called when the close button is clicked
     **&#x2F;
    @GuiAction(&quot;close&quot;)
    protected void close_gui()
    {
        close();
    }

    &#x2F;**
     * We override the picked-up item to give something without lore.
     **&#x2F;
    protected void getPickedUpItem(Material material)
    {
        return new ItemStack(material);
    }

    &#x2F;**
     * On right-click, we give an item with the amount set to the
     * max stack size, if available.
     **&#x2F;
    protected void onRightClick(Material material)
    {
        final ItemStack item = new ItemStack(material);

        if (item.getMaxStackSize() &gt; 0)
            item.setAmount(item.getMaxStackSize());

        return item;
    }
}
</code></pre>
<p>It's now ready to be opened.</p>
<pre data-lang="java" class="language-java "><code class="language-java" data-lang="java">Gui.open(player, new MaterialsGUI());
</code></pre>
<h1 id="updating-guis">Updating GUIs<a class="zola-anchor" href="#updating-guis" aria-label="Anchor link for: updating-guis">üîó</a></h1>
<p>From the inside, a GUI can be updated using it's <code>update()</code> method.</p>
<p>There is also a method to update all opened GUIs of a given type. As example, if you have a GUI listing teams ‚Äî let's call it <code>TeamsSelectorGUI</code> ‚Äî, and you want to update all GUIs in real time when a team is created or removed, call the following method when the teams list is updated:</p>
<pre data-lang="java" class="language-java "><code class="language-java" data-lang="java">Gui.update(TeamsSelectorGUI.class);
</code></pre>
<p>Yes, it's that simple: all opened <code>TeamsSelectorGUI</code>-based GUIs will be updated without any user interaction.</p>
<h1 id="prompt-guis">Prompt GUIs<a class="zola-anchor" href="#prompt-guis" aria-label="Anchor link for: prompt-guis">üîó</a></h1>
<p>Here is <a href="https://dev.zcraft.fr/docs/quartzlib/index.html?fr/zcraft/quartzlib/components/gui/PromptGui.html">another kind of GUI</a>, used a bit differently. This one will open a sign the player will be able to fill, and return the text entered.</p>
<p>It is meant to be used with a callback. Here's an example:</p>
<pre data-lang="java" class="language-java "><code class="language-java" data-lang="java">&#x2F;&#x2F; Opens a sign and calls the callback with the text entered when the
&#x2F;&#x2F; sign is closed
PromptGui.prompt(player, lines -&gt; {
    &#x2F;&#x2F; Do something
});

&#x2F;&#x2F; Or with a default text from another GUI (typical use):
PromptGui.prompt(player, lines -&gt; {
    &#x2F;&#x2F; Do something
}, initialContent, parentGUI);
</code></pre>
<p><strong>Notice</strong><br />
Due to Minecraft limitations, <em>real signs are placed in the world</em>, in an empty spot somewhere far in the sky, in a chunk loaded for the player. The sign is then removed when closed. This should not be a problem in most cases but if it is for you, don't use these prompts.</p>


        </article>

    </main>

    
<footer>
    <small class="subtext">
        <a href="https://dev.zcraft.fr">zDevelopers</a>
        &middot; Creative Commons BY-SA, 2015 ‚Äì 2023
        &middot; Built using <a href="https://www.getzola.org">Zola</a>, <a href="https://github.com/huhu/juice">Juice</a> and
        <a href="https://primer.style/octicons/">Octicons</a>.
        &middot; This website is <a href="https://github.com/zDevelopers/zdevelopers.github.io">open-source</a> (and still in under construction).
    </small>
</footer>

</body>
<script>
    function highlightNav(heading) {
        let pathname = location.pathname;
        document.querySelectorAll(".toc a").forEach((item) => {
            item.classList.remove("active");
        });
        document.querySelector(".toc a[href$='" + pathname + "#" + heading + "']").classList.add("active");
    }

    let currentHeading = "";
    window.onscroll = function () {
        let h = document.querySelectorAll("h1,h2,h3,h4,h5,h6");
        let elementArr = [];

        h.forEach(item => {
            if (item.id !== "") {
                elementArr[item.id] = item.getBoundingClientRect().top;
            }
        });
        elementArr.sort();
        for (let key in elementArr) {
            if (!elementArr.hasOwnProperty(key)) {
                continue;
            }
            if (elementArr[key] > 0 && elementArr[key] < 300) {
                if (currentHeading !== key) {
                    highlightNav(key);
                    currentHeading = key;
                }
                break;
            }
        }
    }
</script>

</html>
